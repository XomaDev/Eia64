non_base
    Load 0
    Int 1
    Sub
    Enter_Frame 1   # brings last n stack to new stack
        Store 0     # store as new arg for fib
        Scope fib Visit
        Load 1
    Exit_Frame 1

    Load 0
    Int 2
    Sub
    Enter_Frame 1   # brings last n stack to new stack
        Store 0     # store as new arg for fib
        Scope fib Visit
        Load 1
    Exit_Frame 1

    # store return result
    Add
    Store 1
end

fib
    # arg 0
    # return 1
    Load 0
    Int 2
    Less_Than
    Scope non_base Gnq

    # return=n
    Load 0
    Store 1
end

main
    Int 30
    Store 0
    Scope fib Visit
    Load 1
    Print Endl
end