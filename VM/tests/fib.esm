base_return
    Load 0
    Store 1
end

fib
    # mem[0] => n
    # mem[1] => return

    # handle base case
    Int 2
    Load 0      # n
    Greater_Than
    Scope base_return Geq

    # fib(n - 1) + fib(n - 2)

    # fib(n - 1)
    Load 0
    Int 1
    Sub
    Store 0
    Scope fib Visit

    # load return value, store in stack
    Load 1

    # fib(n - 2)
    Load 0
    Int 2
    Sub
    Store 0
    Scope fib Visit
main